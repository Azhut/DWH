# API

## Описание

Данный API предоставляет возможности для работы с фильтрами и данными. Вы можете получать доступные фильтры, значения фильтров, отфильтрованные данные, а также скачивать данные в различных форматах.

---

## Эндпоинты

### 1. GET /filters-names

**Описание:** Возвращает список доступных фильтров.

**Пример ответа:**
```json
{
    "filters": ["год", "город", "раздел", "строка", "колонка"]
}
```

---

### 2. POST /filter-values

**Описание:** Возвращает доступные значения для указанного фильтра с учётом других фильтров и шаблона поиска.

**Пример запроса:**
```json
{
    "filter-name": "раздел",
    "filters": [
        {
            "filter-name": "год",
            "values": [2022, 2023, 2024]
        },
        {
            "filter-name": "город",
            "values": ["Алапаевск"]
        }
    ],
    "pattern": ""
}
```

**Пример ответа:**
```json
{
    "filter-name": "раздел",
    "values": ["Раздел 1", "Раздел 2", "Раздел 3"]
}
```

---

### 3. POST /filtered-data

**Описание:** Возвращает данные, отфильтрованные по указанным параметрам.

**Пример запроса:**
```json
{
    "filters": [
        {
            "filter-name": "год",
            "values": [2022, 2023, 2024]
        },
        {
            "filter-name": "город",
            "values": ["Алапаевск"]
        }
    ],
    "limit": 4,
    "offset": 0
}
```

**Пример ответа:**
```json
{
    "headers": ["год", "город", "раздел", "строка", "колонка", "значение"],
    "data": [
        [2022, "Алапаевск", "Раздел1", "строка1", "колонка1", 10],
        [2022, "Алапаевск", "Раздел1", "строка2", "колонка1", 11],
        [2023, "Алапаевск", "Раздел1", "строка1", "колонка1", 13],
        [2023, "Алапаевск", "Раздел1", "строка2", "колонка1", 18]
    ],
    "size": 4,
    "max_size": 100
}
```

---

### 4. GET /download-filtered-data

**Описание:** Возвращает список доступных форматов для скачивания данных.

**Пример ответа:**
```json
{
    "types": ["csv", "xls", "txt"]
}
```

---

### 5. GET /download-filtered-data/{type}

**Описание:** Скачивает данные в указанном формате.

**Пример запроса:**
```
GET /download-filtered-data/csv
```

**Пример ответа:**
Скачивание файла в формате CSV.